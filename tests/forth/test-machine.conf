[machine]
cpus = 1
cores = 1
interrupt-routines = interrupts

[memory]
force-aligned-access = yes

[cpu]
math-coprocessor = yes
inst-cache = 256  ; 256 instructions = 1kB
check-frames = yes

data-cache-enabled = yes
data-cache-driver = native
data-cache-size = 8192
data-cache-line = 32
data-cache-assoc = 4

[binary-0]
file = forth/ducky-forth

[device-0]
klass = rtc
driver = ducky.devices.rtc.RTC

[device-1]
klass = input
driver = ducky.devices.keyboard.KeyboardController
master = device-3

[device-2]
klass = output
driver = ducky.devices.tty.TTY
master = device-3

[device-3]
klass = terminal
driver = ducky.devices.terminal.StreamIOTerminal
input = device-1
output = device-2
streams_in = tests/forth/enable-test-mode.f, forth/ducky-forth.f, tests/forth/ans/tester.fr

[device-4]
klass = snapshot
driver = ducky.devices.snapshot.DefaultFileSnapshotStorage
