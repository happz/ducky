machine:
  python:
    version: 2.7.9

dependencies:
  pre:
    - pip install enum34
    - pip install tabulate
    - pip install colorama
    - pip install coverage
    - pip install lxml
    - pip install beautifulsoup4
    - pip install nose-timer

test:
  override:
    - time DUCKY_IMPORT_DEVEL=yes VMDEBUG_OPEN_FILES=yes TESTSET=python-devel-read Q=@                                make clean tests
    - time DUCKY_IMPORT_DEVEL=yes VMDEBUG_OPEN_FILES=yes TESTSET=python-devel-mmap Q=@          MMAPABLE_SECTIONS=yes make clean tests
    - pyenv global pypy-2.5.0
    - time DUCKY_IMPORT_DEVEL=yes VMDEBUG_OPEN_FILES=yes TESTSET=pypy-devel-read   Q=@ PYPY=yes                       make clean tests
    - time DUCKY_IMPORT_DEVEL=yes VMDEBUG_OPEN_FILES=yes TESTSET=pypy-devel-mmap   Q=@ PYPY=yes MMAPABLE_SECTIONS=yes make clean tests
